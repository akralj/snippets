â€‹function foo(cb) { if (cb) { return cb(); } return new Promise(function (resolve, reject) { }); }